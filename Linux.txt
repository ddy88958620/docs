1.统计一个文件中字符出现的次数
perl -e 'while(<>){$count+= s/[str]//g;} print "$count\n";' [filename]



平台: RHEL5.4

执行rpm -q 等命令就一直hang在那里不动, ps看一下发现n多的rpmq进程挂住了. 

这些进程是每晚crontab执行/etc/cron.daily/rpm后, 更新本机rpm库到 /var/lib/rpm/__db.* 文件里. 可能曾经 /var 目录磁盘满过, 所以才出现这样情况, 现在要做的如下:

# rm -f /var/lib/rpm/__db.*

然后再执行rpm命令就没有问题了. 最好再重建一下rpm库

# rpm -vv --rebuilddb
# /etc/cron.daily/rpm